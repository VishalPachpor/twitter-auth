# Waitlist Component Setup Guide

This guide will help you integrate this waitlist system into any Next.js project.

## âœ… What's Already Configurable (No Code Changes Needed)

### Environment Variables
All these can be configured via `.env.local`:

```env
# Twitter OAuth
TWITTER_CLIENT_ID=your_twitter_client_id
TWITTER_CLIENT_SECRET=your_twitter_client_secret

# NextAuth
NEXTAUTH_SECRET=your_nextauth_secret
NEXTAUTH_URL=http://localhost:3000  # Your app URL

# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# Optional: Customize waitlist size
NEXT_PUBLIC_WAITLIST_MAX_SPOTS=1000  # Default: 1000
```

## ğŸ“Œ Next.js Version Compatibility

- âœ… **Next.js 15**: Fully compatible (see [NEXTJS_15_COMPATIBILITY.md](./NEXTJS_15_COMPATIBILITY.md))
- âœ… **Next.js 16**: Fully compatible (current version)

For Next.js 15, you'll need React 18 instead of React 19. See the compatibility guide for details.

## âš ï¸ What Needs to Be Changed (Branding/Customization)

### 1. Home Page Branding (`app/page.tsx`)

**Current hardcoded values:**

- Line 10: `"Welcome to AXIOS"`
- Line 13: `"Join the future of DeFi lending"`
- Line 16: `"Connect your wallet and be part of our exclusive waitlist"`

**Change to:**

```tsx
<h1>Welcome to YOUR_PROJECT_NAME</h1>
<p>Your custom tagline</p>
<p>Your custom description</p>
```

### 2. Metadata (`app/layout.tsx`)

**Current:**

```tsx
title: "Create Next App",
description: "Generated by create next app",
```

**Change to:**

```tsx
title: "Your Project Name",
description: "Your project description",
```

### 3. Storage Key (`lib/waitlist-service.ts`)

**Current:**

```tsx
private readonly STORAGE_KEY = "axios_waitlist_entries";
```

**Change to:**

```tsx
private readonly STORAGE_KEY = "your_project_waitlist_entries";
```

### 4. Default Avatar Seed (`components/waitlist/waitlist-popup.tsx`)

**Current (line 423):**

```tsx
.normalizedAddress || "axios";
```

**Change to:**

```tsx
.normalizedAddress || "yourproject";
```

### 5. Package Name (`package.json`)

**Current:**

```json
"name": "twitter-auth",
```

**Change to:**

```json
"name": "your-project-name",
```

## ğŸ“‹ Quick Setup Checklist

### Step 1: Install Dependencies

```bash
npm install
```

### Step 2: Configure Environment Variables

Create `.env.local` with your credentials:

```env
TWITTER_CLIENT_ID=...
TWITTER_CLIENT_SECRET=...
NEXTAUTH_SECRET=...
NEXTAUTH_URL=...
NEXT_PUBLIC_SUPABASE_URL=...
NEXT_PUBLIC_SUPABASE_ANON_KEY=...
```

### Step 3: Set Up Supabase Database

Run these SQL files in Supabase SQL Editor (in order):

1. `waitlist-entries-schema.sql` - Creates the waitlist table
2. `supabase-schema.sql` - Creates the profiles table (optional, if needed)

### Step 4: Configure Twitter App

1. Go to [Twitter Developer Portal](https://developer.twitter.com/en/portal/dashboard)
2. Set callback URL: `YOUR_DOMAIN/api/auth/callback/twitter`
3. For local dev: `http://localhost:3000/api/auth/callback/twitter`

### Step 5: Customize Branding

Update the files mentioned in "What Needs to Be Changed" section above.

### Step 6: Test

```bash
npm run dev
```

## ğŸ¯ Core Components That Are Reusable (No Changes Needed)

These components are fully reusable and work with any configuration:

- âœ… `components/globe/` - 3D globe visualization
- âœ… `components/waitlist/waitlist-popup.tsx` - Waitlist form popup
- âœ… `components/ui/` - UI components (Button, Input, Dialog, etc.)
- âœ… `hooks/use-auth.ts` - Authentication hook
- âœ… `lib/waitlist-service.ts` - Waitlist data service
- âœ… `lib/address-validation.ts` - Wallet address validation
- âœ… `app/api/waitlist/` - API routes
- âœ… `app/api/auth/` - NextAuth configuration
- âœ… `app/waitlist/page.tsx` - Waitlist page

## ğŸ“ File Structure Overview

```
twitter-auth/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ auth/[...nextauth]/route.ts  # NextAuth config (reusable)
â”‚   â”‚   â””â”€â”€ waitlist/                    # API routes (reusable)
â”‚   â”œâ”€â”€ page.tsx                         # âš ï¸ Customize branding
â”‚   â”œâ”€â”€ layout.tsx                       # âš ï¸ Customize metadata
â”‚   â””â”€â”€ waitlist/page.tsx               # âœ… Reusable
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ globe/                          # âœ… Fully reusable
â”‚   â”œâ”€â”€ waitlist/                       # âœ… Fully reusable
â”‚   â””â”€â”€ ui/                             # âœ… Fully reusable
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ use-auth.ts                     # âœ… Fully reusable
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ supabase.ts                     # âœ… Fully reusable
â”‚   â”œâ”€â”€ waitlist-service.ts             # âš ï¸ Change storage key
â”‚   â””â”€â”€ address-validation.ts           # âœ… Fully reusable
â”œâ”€â”€ waitlist-entries-schema.sql         # âœ… Run in Supabase
â””â”€â”€ supabase-schema.sql                 # âœ… Run in Supabase
```

## ğŸ”’ Security Notes

- All secrets are stored in environment variables
- Row Level Security (RLS) is enabled on Supabase tables
- Authentication is verified in API routes
- No hardcoded credentials in code

## ğŸš€ Deployment

### Vercel Deployment

1. Push to GitHub
2. Import to Vercel
3. Add environment variables in Vercel dashboard
4. Update Twitter callback URL to: `https://your-domain.vercel.app/api/auth/callback/twitter`
5. Deploy

### Environment Variables for Production

Make sure to set:

- `NEXTAUTH_URL=https://your-domain.com`
- `TWITTER_CLIENT_ID` and `TWITTER_CLIENT_SECRET` from Twitter Developer Portal
- `NEXT_PUBLIC_SUPABASE_URL` and `NEXT_PUBLIC_SUPABASE_ANON_KEY` from Supabase

## ğŸ“ Summary

**Is this plug-and-play?** Almost! You need to:

1. âœ… Set environment variables (Twitter OAuth, Supabase, NextAuth)
2. âœ… Run SQL schemas in Supabase
3. âš ï¸ Update branding (5 small changes in code)
4. âœ… Configure Twitter app callback URL

**Total customization time: ~10-15 minutes**

The core waitlist functionality is **100% reusable** - just swap the credentials and update the branding!
